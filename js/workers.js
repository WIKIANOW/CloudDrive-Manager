const SECRET_KEY = "HPC_SECURE_CLOUD_KEY_2024";
const TOKEN_EXPIRE_HOURS = 24;

export default {
    async fetch(request, env) {
        const url = new URL(request.url);
        const method = request.method;
        const getAuth=(request)=>{let token=request.headers.get('Authorization')?.split(' ')[1];if(!token){const cookieHeader=request.headers.get('Cookie')|| "";const match=cookieHeader.match(/hpc_token=([^;]+)/);token=match ? match[1]:null}if(!token)return null;const verified=verifyToken(token,request);if(!verified)return null;return verified};
        if(url.pathname==='/login'){if(method==='GET'){const user=getAuth(request);if(user)return Response.redirect(`${url.origin}/`,302);return new Response(BaseLayout("Login",LoginContent,BotDetectScript,LoginScript,""),{headers:{"Content-Type":"text/html;charset=UTF-8"}})}if(method==='POST'){const{u,p}=await request.json();const inputHash=await hashPassword(p);const user=await env.DB.prepare("SELECT * FROM users WHERE username=?").bind(u).first();if(!user || user.password !==inputHash)return Response.json({error:"Incorrect account or password"},{status:401});const token=await generateToken(user,request);return Response.json({success:true,user:{username:user.username,role:user.role}},{headers:{"Set-Cookie":`hpc_token=${token};Path=/;Max-Age=86400;HttpOnly;SameSite=Lax;Secure`}})}}
        if(url.pathname==='/api/logout'){return Response.json({success:true},{headers:{"Set-Cookie":"hpc_token=;Path=/;HttpOnly;SameSite=Lax;Max-Age=0;Secure"}})}
        const user = getAuth(request);
        if(!user && url.pathname==='/'){return Response.redirect(`${url.origin}/login`,302)}
        const scripts = getScripts(url.pathname, user, user?.r || "");
        if(method==='GET' && url.pathname==='/'){return new Response(BaseLayout("Home",HomeContent,scripts.header,scripts.body,scripts.navTab),{headers:{"Content-Type":"text/html;charset=UTF-8"}})}
        if(method==='GET' && url.pathname==='/users'){return new Response(BaseLayout("Users",AdminUserContent,scripts.header,scripts.body,scripts.navTab),{headers:{"Content-Type":"text/html;charset=UTF-8"}})}
        if(method==='GET' && url.pathname==='/servers'){return new Response(BaseLayout("Servers",AdminServerContent,scripts.header,scripts.body,scripts.navTab),{headers:{"Content-Type":"text/html;charset=UTF-8"}})}
        if(method==='GET' && url.pathname==='/faq'){return new Response(BaseLayout("Users",FAQContent,scripts.header,scripts.body,scripts.navTab),{headers:{"Content-Type":"text/html;charset=UTF-8"}})}
        if(url.pathname==='/api/servers/verify'){if(!user)return Response.json({error:"Unauthorized"},{status:401});const{results:accounts}=await env.DB.prepare("SELECT * FROM accounts").all();const errors=[];for(const acc of accounts){try{const tokenData=await refreshGoogleToken(acc);if(!tokenData || tokenData.error)throw new Error("Google Error");await env.DB.prepare("UPDATE accounts SET status='active' WHERE id=?").bind(acc.id).run()}catch(e){errors.push(acc.name);await env.DB.prepare("UPDATE accounts SET status='error' WHERE id=?").bind(acc.id).run()}}return Response.json({success:true,errors})}
        if(method==='GET' && url.pathname==='/api/files'){if(!user)return Response.json({error:"Unauthorized"},{status:401});const urlParams=new URL(request.url).searchParams;const page=parseInt(urlParams.get('page')|| '1');const searchTerm=urlParams.get('q')|| "";const limit=30;const offset=(page - 1)* limit;let query,params;const searchPattern=`%${searchTerm}%`;if(user.r==='admin'){query=`SELECT * FROM files WHERE name LIKE ? ORDER BY created_at DESC LIMIT ? OFFSET ?`;params=[searchPattern,limit,offset]}else{query=`SELECT * FROM files WHERE(status IN('public','internal')OR(status='private' AND owner=?))AND name LIKE ? ORDER BY created_at DESC LIMIT ? OFFSET ?`;params=[user.u,searchPattern,limit,offset]}const{results}=await env.DB.prepare(query).bind(...params).all();return Response.json(results)}
        if(method==='POST'&&url.pathname==='/api/upload'){try{if(!user)return Response.json({error:"Unauthorized"},{status:401});const fileSize=parseInt(request.headers.get("content-length")||"0"),fileName=decodeURIComponent(request.headers.get("x-file-name")||"Untitled"),fileStatus=request.headers.get("x-file-status")||'private',rawContentType=request.headers.get("content-type")||'application/octet-stream';if(fileSize>104857600)return Response.json({error:"File too large"},{status:413});const userQuota=await env.DB.prepare("SELECT u.max_space,COALESCE(SUM(f.size),0)as used_space FROM users u LEFT JOIN files f ON u.username=f.owner WHERE u.username=? GROUP BY u.username").bind(user.u).first();if(userQuota&&userQuota.max_space!==-1&&(userQuota.used_space+fileSize>userQuota.max_space))return Response.json({error:"Storage quota exceeded"},{status:403});const{results:accounts}=await env.DB.prepare("SELECT * FROM accounts WHERE(total_space-used_space)>? AND status='active' ORDER BY(total_space-used_space)DESC LIMIT 3").bind(fileSize).all();if(!accounts||!accounts.length)return Response.json({error:"No storage available"},{status:507});const account=accounts[Math.floor(Math.random()*accounts.length)],accessToken=await refreshGoogleToken(account);if(!accessToken)throw new Error("Token refresh failed");const initRes=await fetch("https://www.googleapis.com/upload/drive/v3/files?uploadType=resumable",{method:'POST',headers:{'Authorization':'Bearer '+accessToken,'Content-Type':'application/json;charset=UTF-8','X-Upload-Content-Type':rawContentType},body:JSON.stringify({name:fileName,parents:[account.folder_id]})});const uploadUrl=initRes.headers.get('Location');if(!uploadUrl)throw new Error("G-Drive Init Failed");const googleRes=await fetch(uploadUrl,{method:'PUT',headers:{'Content-Length':fileSize.toString()},body:request.body});const driveData=await googleRes.json();if(driveData.id){try{await setPublic(driveData.id,accessToken)}catch(e){}await env.DB.batch([env.DB.prepare("INSERT INTO files(file_id,name,size,drive_file_id,account_id,owner,status)VALUES(?,?,?,?,?,?,?)").bind(crypto.randomUUID(),fileName,fileSize,driveData.id,account.id,user.u,fileStatus),env.DB.prepare("UPDATE accounts SET used_space=used_space+? WHERE id=?").bind(fileSize,account.id)]);return Response.json({success:true,fileId:driveData.id})}return Response.json({error:"Drive error",detail:driveData},{status:500})}catch(err){return Response.json({error:err.message},{status:500})}}
        if(method==='GET'&&url.pathname.startsWith('/api/proxy/')){const fileId=url.pathname.split('/').pop(),file=await env.DB.prepare("SELECT * FROM files WHERE file_id=?").bind(fileId).first();if(!file)return new Response("File not found",{status:404});const isPublic=file.status==='public',isInternal=file.status==='internal'&&user,isOwner=user&&(file.owner===user.u||user.r==='admin');if(!isPublic&&!isInternal&&!isOwner)return new Response("Access Denied",{status:403});const account=await env.DB.prepare("SELECT * FROM accounts WHERE id=?").bind(file.account_id).first(),accessToken=await refreshGoogleToken(account),driveRes=await fetch(`https://www.googleapis.com/drive/v3/files/${file.drive_file_id}?alt=media`,{headers:{Authorization:`Bearer ${accessToken}`}});if(!driveRes.ok)return new Response("G-Drive Error",{status:driveRes.status});const h=new Headers();['content-type','content-length','accept-ranges'].forEach(k=>{const v=driveRes.headers.get(k);if(v)h.set(k,v)});h.set('Content-Disposition',`${url.searchParams.has('download')?'attachment':'inline'}; filename="${encodeURIComponent(file.name)}"`);h.set('Cache-Control','public, max-age=3600');return new Response(driveRes.body,{status:driveRes.status,headers:h})}
        if(method==='DELETE'&&url.pathname.startsWith('/api/files/')){const fileId=url.pathname.split('/').pop(),file=await env.DB.prepare("SELECT * FROM files WHERE file_id=?").bind(fileId).first();if(!file)return Response.json({error:"File not found"},{status:404});if(user.r!=='admin'&&file.owner!==user.u)return Response.json({error:"No permission"},{status:403});const account=await env.DB.prepare("SELECT * FROM accounts WHERE id=?").bind(file.account_id).first(),token=await refreshGoogleToken(account),gdRes=await fetch(`https://www.googleapis.com/drive/v3/files/${file.drive_file_id}`,{method:'DELETE',headers:{Authorization:`Bearer ${token}`}});if(gdRes.status===204||gdRes.status===404){await env.DB.batch([env.DB.prepare("DELETE FROM files WHERE file_id=?").bind(fileId),env.DB.prepare("UPDATE accounts SET used_space=used_space-? WHERE id=?").bind(file.size,account.id)]);return Response.json({success:true})}return Response.json({error:"G-Drive delete failed"},{status:500})}
        if(url.pathname.startsWith('/api/servers')){if(!user)return Response.json({error:"Unauthorized"},{status:401});const accountId=url.pathname.split('/')[3];if(method==='GET'&&!accountId){const[a,f,u]=await Promise.all([env.DB.prepare("SELECT id,name,used_space,total_space FROM accounts").all(),env.DB.prepare("SELECT COUNT(*)as t FROM files").first(),env.DB.prepare("SELECT COUNT(*)as t FROM users").first()]);return Response.json({accounts:a.results,totalFiles:f?.t||0,totalUsers:u?.t||0})}if(user.r!=='admin')return Response.json({error:"Forbidden"},{status:403});if(method==='POST'){const d=await request.json();await env.DB.prepare("INSERT INTO accounts(id,name,client_id,client_secret,refresh_token,folder_id,used_space,total_space,status)VALUES(?,?,?,?,?,?,?,?, 'active')").bind(crypto.randomUUID(),d.name,d.client_id,d.client_secret,d.refresh_token,d.folder_id||'root',0,16106127360).run();return Response.json({success:true})}if(method==='DELETE'&&accountId){try{/*await env.DB.batch([env.DB.prepare("UPDATE files SET status='error' WHERE account_id=?").bind(accountId),env.DB.prepare("DELETE FROM accounts WHERE id=?").bind(accountId)]);*/return Response.json({success:true})}catch(e){return Response.json({error:e.message},{status:500})}}}
        if(url.pathname.startsWith('/api/users')){if(!user||user.r!=='admin')return Response.json({error:"Unauthorized"},{status:401});const targetUsername=url.pathname.split('/').pop(),isDetail=url.pathname!=='/api/users';if(method==='GET'){const{results:us}=await env.DB.prepare("SELECT u.usernamesername,u.role,u.max_space,u.created_at,COALESCE(SUM(f.size),0)as used_space FROM users u LEFT JOIN files f ON u.usernamesername=f.owner GROUP BY u.usernamesername").all();return Response.json(us)}if(method==='POST'&&!isDetail){const{u,p,r,m}=await request.json();if(!u||!p)return Response.json({error:"Lack of info"},{status:400});const lim=m!==undefined?parseInt(m):5368709120;await env.DB.prepare("INSERT INTO users(username,password,role,max_space)VALUES(?,?,?,?)ON CONFLICT(username)DO UPDATE SET password=excluded.password,role=excluded.role,max_space=excluded.max_space").bind(u,p,r||'user',lim).run();return Response.json({success:true})}if(isDetail){const target=decodeURIComponent(targetUsername);if(target==='administrator')return Response.json({error:"Forbidden Admin access"},{status:403});if(method==='PUT'){const d=await request.json(),up=[],pa=[];if(d.role){up.push("role=?");pa.push(d.role)}if(d.max_space!==undefined){up.push("max_space=?");pa.push(parseInt(d.max_space))}if(d.password&&d.password.trim()){up.push("password=?");pa.push(d.password)}if(up.length){pa.push(target);await env.DB.prepare(`UPDATE users SET ${up.join(",")} WHERE username=?`).bind(...pa).run()}return Response.json({success:true})}if(method==='DELETE'){if(target===user.u)return Response.json({error:"Self-delete denied"},{status:400});try{await env.DB.batch([env.DB.prepare("UPDATE files SET owner='unknown' WHERE owner=?").bind(target),env.DB.prepare("DELETE FROM users WHERE username=?").bind(target)]);return Response.json({success:true})}catch(e){return Response.json({error:e.message},{status:500})}}}}
        if(method==='POST'&&url.pathname==='/api/files/bulk-delete'){try{const{ids}=await request.json();if(!ids?.length)return Response.json({error:"No IDs"},{status:400});const q=`SELECT drive_file_id,account_id,size,owner FROM files WHERE file_id IN (${ids.map(()=>'?').join(',')})`,{results:fs}=await env.DB.prepare(q).bind(...ids).all();if(!fs.length)return Response.json({error:"No files"},{status:404});const validFs=fs.filter(f=>user.r==='admin'||f.owner===user.u);if(!validFs.length)return Response.json({error:"Forbidden"},{status:403});const accIds=[...new Set(validFs.map(f=>f.account_id))],tks={},szM={};for(const id of accIds){const a=await env.DB.prepare("SELECT * FROM accounts WHERE id=?").bind(id).first();if(a){tks[id]=await refreshGoogleToken(a);szM[id]=validFs.filter(f=>f.account_id===id).reduce((s,f)=>s+(f.size||0),0)}}await Promise.all(validFs.map(async f=>{const t=tks[f.account_id];if(!t)return;try{const r=await fetch(`https://www.googleapis.com/drive/v3/files/${f.drive_file_id}`,{method:'DELETE',headers:{Authorization:'Bearer '+t}});return r.ok||r.status===404}catch(e){}}));const stmts=ids.map(id=>env.DB.prepare("DELETE FROM files WHERE file_id=?").bind(id));Object.keys(szM).forEach(id=>stmts.push(env.DB.prepare("UPDATE accounts SET used_space=MAX(0,used_space-?) WHERE id=?").bind(szM[id],id)));await env.DB.batch(stmts);return Response.json({success:true,count:validFs.length})}catch(e){return Response.json({error:e.message},{status:500})}}
        if(method==='GET'&&url.pathname.startsWith('/api/thumbnail/')){const id=url.pathname.split('/').pop(),f=await env.DB.prepare("SELECT drive_file_id,account_id FROM files WHERE file_id=?").bind(id).first();if(!f||!f.drive_file_id)return new Response("Not Found",{status:404});const a=await env.DB.prepare("SELECT * FROM accounts WHERE id=?").bind(f.account_id).first();if(!a)return new Response("Account Not Found",{status:404});try{const tk=await refreshGoogleToken(a),meta=await fetch(`https://www.googleapis.com/drive/v3/files/${f.drive_file_id}?fields=thumbnailLink`,{headers:{Authorization:'Bearer '+tk}});if(!meta.ok)return new Response("Meta Error",{status:meta.status});const{thumbnailLink:link}=await meta.json();if(!link)return new Response("No thumb",{status:404});const img=await fetch(link);return new Response(img.body,{headers:{'Content-Type':'image/jpeg','Cache-Control':'public, max-age=604800','Access-Control-Allow-Origin':'*'}})}catch(e){return new Response("Error",{status:500})}}
        if(url.pathname.startsWith('/api/raw/')){const id=url.pathname.split('/').pop(),tk=url.searchParams.get('token'),ex=url.searchParams.get('expires');if(!tk||!ex)return new Response("Missing params",{status:400});if(Date.now()>parseInt(ex))return new Response("Expired",{status:403});try{const f=await env.DB.prepare("SELECT drive_file_id,account_id FROM files WHERE file_id=?").bind(id).first();if(!f)return new Response("Not found",{status:404});const a=await env.DB.prepare("SELECT * FROM accounts WHERE id=?").bind(f.account_id).first(),atk=await refreshGoogleToken(a),dr=await fetch(`https://www.googleapis.com/drive/v3/files/${f.drive_file_id}?alt=media`,{headers:{Authorization:'Bearer '+atk}});if(!dr.ok)return new Response("Drive error",{status:dr.status});const h=new Headers(dr.headers);h.set('Access-Control-Allow-Origin','*');h.set('Content-Disposition','inline');h.set('Cache-Control','public, max-age=3600');return new Response(dr.body,{status:dr.status,headers:h})}catch(e){return new Response(e.message,{status:500})}}
        return new Response("Not Found", { status: 404 });
    }
};

// Extend Script
async function generateToken(u,r){const ua=btoa(r.headers.get('user-agent')||''),exp=Date.now()+TOKEN_EXPIRE_HOURS*36e5,p={u:u.usernamesername,r:u.role,ua:ua,exp:exp},d=btoa(JSON.stringify(p)),s=btoa(p.u+SECRET_KEY+exp);return`${d}.${s}`}
function verifyToken(t,r){try{if(!t)return null;const[d,s]=t.split('.'),p=JSON.parse(atob(d));if(s!==btoa(p.u+SECRET_KEY+p.exp)||Date.now()>p.exp)return null;if(p.ua!==btoa(r.headers.get('user-agent')||''))return null;return p}catch(e){return null}}
async function hashPassword(p){const d=new TextEncoder().encode(p+SECRET_KEY),b=await crypto.subtle.digest('SHA-256',d);return Array.from(new Uint8Array(b)).map(b=>b.toString(16).padStart(2,'0')).join('')}
async function refreshGoogleToken(a){const r=await fetch('https://oauth2.googleapis.com/token',{method:'POST',body:JSON.stringify({client_id:a.client_id,client_secret:a.client_secret,refresh_token:a.refresh_token,grant_type:'refresh_token'})});return(await r.json()).access_token}
async function setPublic(id,t){await fetch(`https://www.googleapis.com/drive/v3/files/${id}/permissions`,{method:'POST',headers:{Authorization:'Bearer '+t,'Content-Type':'application/json'},body:JSON.stringify({role:'reader',type:'anyone'})})}

// HTML Control
function getScripts(path,user,role){let h=BotDetectScript,b="",n=`<a href="/" class="py-5 text-slate-400 text-[11px] font-bold uppercase tracking-widest transition-all hover:text-indigo-600"><i class="fas fa-folder mr-1"></i>Files</a>`;if(role==='admin'){n+=`<a href="/servers" class="py-5 text-slate-400 text-[11px] font-bold uppercase tracking-widest transition-all hover:text-indigo-600"><i class="fas fa-server mr-1"></i>Servers</a><a href="/users" class="py-5 text-slate-400 text-[11px] font-bold uppercase tracking-widest transition-all hover:text-indigo-600"><i class="fas fa-users-gear mr-1"></i>Users</a><a href="/faq" class="py-5 text-slate-400 text-[11px] font-bold uppercase tracking-widest transition-all hover:text-indigo-600"><i class="fa-solid fa-circle-question mr-1"></i>FAQ</a>`}switch(path){case'/':b=HomeScript;break;case'/login':b=LoginScript;break;case'/users':b=(role==='admin')?AdminUserScript:"";break;case'/servers':b=(role==='admin')?AdminServerScript:"";break}return{header:h,body:b,navTab:n}}

const logo = 'data:image/WEBP;base64,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';

function BaseLayout(title, content, headerScript = "", bodyScript = "", navTab = "") {
    return `
        <!DOCTYPE html>
        <html lang="vi" class="dark">

        <head>
            <meta charset="UTF-8">
            <title>${title} - Data Management System</title>
            <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
            <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
            <meta http-equiv="x-ua-compatible" content="ie=edge">
            <link rel="icon" href="https://cdn.jsdelivr.net/gh/phucuong13029x/phucuongds-static@main/img/favicon.ico" type="image/x-icon">
            ${headerScript}
            <style>@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&family=JetBrains+Mono&display=swap');body{font-family:'Plus Jakarta Sans',sans-serif;background:#fbfcfe;overflow-x:hidden}::-webkit-scrollbar{width:5px;height:5px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:10px}.btn-toggle-active{background-color:#6366f1 !important;color:white !important;box-shadow:0 4px 12px rgba(99,102,241,0.3)}.tab-active{color:#6366f1;border-bottom:3px solid #6366f1}.preview-modal{background:rgba(10,15,30,0.95);backdrop-filter:blur(15px)}.text-preview-container{background:#0d1117;border-radius:1.5rem;width:100%;max-width:1100px;height:85vh;display:flex;flex-direction:column;overflow:hidden;border:1px solid rgba(255,255,255,0.1);position:relative}.text-preview-header{padding:1.25rem 1.5rem;border-bottom:1px solid rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:space-between;background:#161b22;z-index:10}.text-preview-body{padding:1.5rem;overflow-y:auto;flex:1;position:relative}.code-block{font-family:'JetBrains Mono',monospace;color:#e2e8f0;font-size:13px;line-height:1.7;text-align:left};.img-container{background:#e0e0e0;position:relative;overflow:hidden}.img-container::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);animation:skeleton-loading 1.2s infinite;z-index:1}.img-container.loaded::before{animation:none;display:none}.lazy-img{transition:opacity 0.5s ease-in-out,filter 0.5s ease-out;filter:blur(8px);opacity:0;z-index:2}@keyframes skeleton-loading{100%{left:100%}}select option{padding:12px;font-size:14px}.custom-scrollbar::-webkit-scrollbar{width:4px}.custom-scrollbar::-webkit-scrollbar-track{background:rgba(255,255,255,0.05)}.custom-scrollbar::-webkit-scrollbar-thumb{background:rgba(59,130,246,0.5);border-radius:10px}.toast-item{animation:slideIn 0.3s ease forwards}@keyframes slideIn{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}.toast-fade-out{animation:fadeOut 0.5s ease forwards}@keyframes fadeOut{to{transform:translateY(-20px);opacity:0}}@keyframes pulse-ring{0%{transform:scale(0.8);opacity:0.5}100%{transform:scale(1.3);opacity:0}}.upload-pulse::before{content:'';position:absolute;width:100%;height:100%;background-color:inherit;border-radius:50%;z-index:-1;animation:pulse-ring 2s cubic-bezier(0.455,0.03,0.515,0.955) infinite}</style>
            <script src="https://cdn.tailwindcss.com"></script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
        </head>

        <body id="__next" class="text-slate-800 bg-white dark:bg-gray-950 dark:text-slate-200 transition-colors duration-300" style="display:none; visibility:hidden">
            <nav class="bg-white/80 dark:bg-slate-950/80 dark:border-slate-800 backdrop-blur-md border-b px-8 flex justify-between items-center sticky top-0 z-50 h-16 shadow-sm shadow-indigo-200">
                <div class="flex items-center gap-10 h-full">
                    <div class="text-indigo-600 font-black text-xl cursor-pointer" onclick="location.reload()">
                        <img class="w-auto h-8" src="${logo}" />
                    </div>
                    <div class="flex gap-8 h-full items-center">
                        ${navTab}
                    </div>
                </div>
                <div id="navRight">
                </div>
            </nav>

            <main class="max-w-8xl m-auto p-6">
                ${content}
            </main>

            <div id="confirmModal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
                <div class="absolute inset-0 bg-slate-900/60 backdrop-blur-sm"></div>
                <div
                    class="relative dark:bg-slate-900 rounded-3xl shadow-2xl max-w-sm w-full p-6 transform transition-all scale-100">
                    <div class="flex flex-col items-center text-center">
                        <div class="w-16 h-16 bg-rose-50 text-rose-500 rounded-2xl flex items-center justify-center mb-4"><i class="fas fa-trash-alt text-2xl"></i></div>
                        <h3 class="text-lg font-bold dark:text-slate-200 mb-2">Confirm deletion</h3>
                        <p id="confirmMessage" class="text-slate-500 text-sm mb-6">Are you sure you want to delete the selected files? This action cannot be undone.</p>
                        <div class="flex gap-3 w-full">
                            <button onclick="closeConfirmModal()" class="flex-1 py-3 px-4 rounded-xl bg-slate-100 text-slate-600 font-bold text-xs hover:bg-slate-200 transition-all">CANCEL</button>
                            <button id="confirmExecuteBtn" class="flex-1 py-3 px-4 rounded-xl bg-rose-500 text-white font-bold text-xs hover:bg-rose-600 transition-all">DELETE NOW</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="toastContainer" class="fixed bottom-5 right-5 z-[200] flex flex-col gap-3"></div>

            <footer class="text-[11px] text-center p-6 text-slate-500 mt-auto border-t border-slate-100 dark:border-slate-800">
                &copy; 2026 - Bn quyn thuc 
                <a href="https://phucuongds.vercel.app" class="text-blue-500 hover:text-blue-600 font-medium transition-colors">phucuongds</a>
            </footer>

            <script>
                let currentView = localStorage.getItem('viewMode') || 'list';
                
                function formatSize(bytes) {
                    if (bytes === 0) return '0 B';
                    const k = 1024;
                    const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
                    const i = Math.floor(Math.log(bytes) / Math.log(k));
                    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
                };

                /**
                @param {string} type - Loi: 'success' | 'error' | 'info'
                @param {string} message - Ni dung thng bo
                @param {number} duration - Thi gian hin th (ms), mc nh 2000ms
                */
                function showAlert(type, message, duration = 2000) {
                    let container = document.getElementById('alert-container');
                    if (!container) {
                        container = document.createElement('div');
                        container.id = 'alert-container';
                        container.className = 'fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none';
                        document.body.appendChild(container);
                    }
                    const configs = {
                        success: { bg: 'bg-emerald-500', icon: 'fa-check-circle' },
                        error: { bg: 'bg-rose-500', icon: 'fa-exclamation-triangle' },
                        info: { bg: 'bg-indigo-500', icon: 'fa-info-circle' }
                    };
                    const config = configs[type] || configs.info;
                    const alert = document.createElement('div');
                    alert.className = \`flex items-center gap-3 px-4 py-3 rounded-2xl text-white shadow-2xl transform translate-x-full opacity-0 transition-all duration-500 ease-out pointer-events-auto min-w-[280px] \${config.bg}\`;
                    alert.innerHTML = \`
                        <i class="fas \${config.icon} text-lg"></i>
                        <div class="flex-1">
                            <p class="text-xs font-bold uppercase tracking-wider opacity-80">\${type}</p>
                            <p class="text-sm font-medium">\${message}</p>
                        </div>
                        <button class="ml-2 hover:opacity-70 transition-opacity" onclick="this.parentElement.remove()"><i class="fas fa-times text-xs"></i></button>
                    \`;
                    container.appendChild(alert);
                    setTimeout(() => {
                        alert.classList.remove('translate-x-full', 'opacity-0');
                    }, 10);

                    setTimeout(() => {
                        alert.classList.add('translate-x-full', 'opacity-0');
                        setTimeout(() => alert.remove(), 500);
                    }, duration);
                };
                function showConfirmModal(message, callback) {
                    const modal = document.getElementById('confirmModal');
                    const msgLabel = document.getElementById('confirmMessage');
                    const executeBtn = document.getElementById('confirmExecuteBtn');
                    msgLabel.innerText = message;
                    modal.classList.remove('hidden');
                    executeBtn.onclick = async () => {
                        await callback();
                        closeConfirmModal();
                    };
                };
        
                function closeConfirmModal() {
                    document.getElementById('confirmModal').classList.add('hidden');
                };

                async function logout() {
                    const _0x4f21 = [
                        '\x2f\x61\x70\x69\x2f\x6c\x6f\x67\x6f\x75\x74',
                        '\x69\x6e\x63\x6c\x75\x64\x65',                
                        '\x6c\x6f\x67',                          
                        '\x63\x6c\x65\x61\x72',               
                        '\x2f\x6c\x6f\x67\x69\x6e'             
                    ];
                    try {
                        await fetch(_0x4f21[0], { 
                            credentials: _0x4f21[1] 
                        });
                    } catch (_0x1e2e) {
                    }
                    localStorage[_0x4f21[3]]();
                    window.location.href = _0x4f21[4];
                }

                const updateAuthUI=()=>{const _0x5f=['\x6e\x61\x76\x52\x69\x67\x68\x74','\x67\x65\x74\x49\x74\x65\x6d','\x68\x70\x63\x5f\x75\x73\x65\x72','\x68\x70\x63\x5f\x72\x6f\x6c\x65','\x69\x6e\x6e\x65\x72\x48\x54\x4d\x4c'];const n=document.getElementById(_0x5f[0]),u=localStorage[_0x5f[1]](_0x5f[2]),r=localStorage[_0x5f[1]](_0x5f[3]);if(u&&r){n[_0x5f[4]]=\`<div class="flex items-center gap-3"><div class="text-right hidden sm:block"><p class="text-[10px] font-extrabold dark:text-slate-200 uppercase">\${u}</p><p class="text-[9px] text-indigo-500 font-bold">\${r.toUpperCase()}</p></div><button onclick="logout()" class="w-11 h-11 bg-slate-100 dark:bg-slate-900 rounded-xl flex items-center justify-center text-slate-500 hover:text-rose-500 transition-all"><i class="fas fa-power-off"></i></button></div>\`}else{n[_0x5f[4]]=\`<a href="/login" class="bg-indigo-600 text-white px-7 py-3 rounded-xl text-[10px] font-bold uppercase shadow-lg shadow-indigo-600/20 hover:scale-105 transition-all">Log in</a>\`}};
                updateAuthUI();

                const showToast=(_0x1,_0x2='info',_0x3=3000)=>{const _0x4=['\x74\x6f\x61\x73\x74\x43\x6f\x6e\x74\x61\x69\x6e\x65\x72','\x64\x69\x76','\x62\x67\x2d\x67\x72\x65\x65\x6e\x2d\x35\x30\x30','\x62\x67\x2d\x72\x65\x64\x2d\x35\x30\x30','\x62\x67\x2d\x62\x6c\x75\x65\x2d\x35\x30\x30','\x62\x67\x2d\x79\x65\x6c\x6c\x6f\x77\x2d\x35\x30\x30','\x63\x6c\x61\x73\x73\x4e\x61\x6d\x65','\x74\x6f\x61\x73\x74\x2d\x69\x74\x65\x6d\x20','\x20\x74\x65\x78\x74\x2d\x77\x68\x69\x74\x65\x20\x70\x78\x2d\x36\x20\x70\x79\x2d\x33\x20\x72\x6f\x75\x6e\x64\x65\x64\x2d\x32\x78\x6c\x20\x73\x68\x61\x64\x6f\x77\x2d\x32\x78\x6c\x20\x66\x6c\x65\x78\x20\x69\x74\x65\x6d\x73\x2d\x63\x65\x6e\x74\x65\x72\x20\x67\x61\x70\x2d\x33\x20\x6d\x69\x6e\x2d\x77\x2d\x5b\x32\x35\x30\x70\x78\x5d','\x69\x6e\x6e\x65\x72\x48\x54\x4d\x4c','\x74\x6f\x61\x73\x74\x2d\x66\x61\x64\x65\x2d\x6f\x75\x74'];const c=document.getElementById(_0x4[0]),t=document.createElement(_0x4[1]),cl={success:_0x4[2],error:_0x4[3],info:_0x4[4],warning:_0x4[5]};t[_0x4[6]]=_0x4[7]+(cl[_0x2]||cl.info)+_0x4[8];t[_0x4[9]]=\`<span class="font-medium text-sm">\${_0x1}</span><button onclick="this.parentElement.remove()" class="ml-auto opacity-70 hover:opacity-100">&times;</button>\`;c.appendChild(t);setTimeout(()=>{t.classList.add(_0x4[10]);setTimeout(()=>t.remove(),500)},_0x3);return t};

                const dateFormatString = (e) => {
                    if (!e) return "";
                    const dateObj = new Date(e.endsWith('Z') ? e : e.replace(' ', 'T') + 'Z');
                    return dateObj.toLocaleString('vi-VN', {
                        timeZone: 'Asia/Ho_Chi_Minh',
                        day: '2-digit',
                        month: '2-digit',
                        year: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit',
                        hourCycle: 'h23' 
                    }).replace(/,/g, ''); 
                }
                window.api=async(_0x1a,_0x3b={})=>{const _0x5c=['\x46\x6f\x72\x6d\x44\x61\x74\x61','\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x54\x79\x70\x65','\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6a\x73\x6f\x6e','\x69\x6e\x63\x6c\x75\x64\x65','\x65\x72\x72\x6f\x72','\x53\x65\x73\x73\x69\x6f\x6e\x20\x68\x61\x73\x20\x65\x78\x70\x69\x72\x65\x64\x21','\x53\x65\x73\x73\x69\x6f\x6e\x20\x65\x78\x70\x69\x72\x65\x64'];const h={..._0x3b.headers};if(!(_0x3b.body instanceof window[_0x5c[0]])){h[_0x5c[1]]=_0x5c[2]}try{const r=await fetch(_0x1a,{..._0x3b,headers:h,credentials:_0x5c[3]});if(r.status===401){if(typeof showAlert==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')showAlert(_0x5c[4],_0x5c[5]);if(typeof logout==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')logout();throw new Error(_0x5c[6])}return r}catch(e){throw e}};
                (function(){const _0x5c=['\x68\x74\x74\x70\x73\x3a\x2f\x2f\x70\x68\x75\x63\x75\x6f\x6e\x67\x64\x73\x2e\x76\x65\x72\x63\x65\x6c\x2e\x61\x70\x70','\x70\x68\x75\x63\x75\x6f\x6e\x67\x64\x73','\x66\x6f\x6f\x74\x65\x72','\x61\x5b\x68\x72\x65\x66\x2a\x3d\x22\x70\x68\x75\x63\x75\x6f\x6e\x67\x64\x73\x22\x5d','\x67\x65\x74\x43\x6f\x6d\x70\x75\x74\x65\x64\x53\x74\x79\x6c\x65','\x64\x69\x73\x70\x6c\x61\x79','\x6e\x6f\x6e\x65','\x76\x69\x73\x69\x62\x69\x6c\x69\x74\x79','\x68\x69\x64\x64\x65\x6e','\x6f\x70\x61\x63\x69\x74\x79','\x30','\x6c\x6f\x63\x61\x74\x69\x6f\x6e','\x68\x72\x65\x66','\x72\x65\x70\x6c\x61\x63\x65'];let _0x2a=false;const _0x4b=()=>{if(_0x2a||window[_0x5c[11]][_0x5c[12]].includes(_0x5c[1]))return;const f=document.querySelector(_0x5c[2]),l=f?f.querySelector(_0x5c[3]):null;const s=f?window[_0x5c[4]](f):{};const h=f&&(s[_0x5c[5]]===_0x5c[6]||s[_0x5c[7]]===_0x5c[8]||s[_0x5c[9]]===_0x5c[10]||f.offsetHeight===0);if(!f||!l||l.textContent.trim().toLowerCase()!==_0x5c[1]||h){_0x2a=true;window[_0x5c[11]][_0x5c[13]](_0x5c[0])}};setTimeout(()=>{_0x4b();const o=new MutationObserver(_0x4b);o.observe(document.body,{childList:true,subtree:true,attributes:true,characterData:true})},3000)})();
                async function loadData(){try{const _0x1a=['\x2f\x61\x70\x69\x2f\x73\x65\x72\x76\x65\x72\x73','\x74\x6f\x74\x61\x6c\x55\x73\x65\x64','\x70\x6f\x6f\x6c\x42\x61\x72','\x73\x74\x61\x74\x46\x69\x6c\x65\x73','\x73\x74\x61\x74\x55\x73\x65\x72\x73','\x61\x63\x63\x6f\x75\x6e\x74\x4c\x69\x73\x74','\x65\x72\x72\x6f\x72'];const res=await api(_0x1a[0]),data=await res.json(),accs=data.accounts||[];const u=accs.reduce((a,b)=>a+(b.used_space||0),0),l=accs.reduce((a,b)=>a+(b.total_space||0),0);const eU=document.getElementById(_0x1a[1]);if(eU)eU.innerHTML=\`\${formatSize(u)} / <span class="text-xs opacity-50">\${formatSize(l)}</span>\`;const pB=document.getElementById(_0x1a[2]);if(pB)pB.style.width=(u/l*100)+'%';const sF=document.getElementById(_0x1a[3]);if(sF)sF.innerText=(data.totalFiles||0).toLocaleString();const sU=document.getElementById(_0x1a[4]);if(sU)sU.innerText=(data.totalUsers||0).toLocaleString();const lst=document.getElementById(_0x1a[5]);if(!lst)return;if(accs.length===0){lst.innerHTML='<div class="col-span-full text-center p-10 text-slate-500 italic">No storage accounts connected.</div>';return}lst.innerHTML=accs.map(acc=>{const pct=((acc.used_space/acc.total_space)*100).toFixed(2),isE=acc.status===_0x1a[6];const c1=isE?'border-red-500/40':'border-white/5',c2=isE?'bg-red-500/20 text-red-500':'bg-gradient-to-tr from-indigo-500 to-purple-500 text-white',c3=isE?'text-red-400':'text-indigo-100',c4=isE?'text-red-400':'text-indigo-400',c5=isE?'bg-red-500':'bg-gradient-to-r from-indigo-500 to-purple-500';return\`<div class="group relative bg-[#0f172a]/60 backdrop-blur-xl p-5 rounded-[2rem] border \${c1} hover:border-indigo-500/40 transition-all duration-500 shadow-xl"><button onclick="confirmDeleteAccount('\${acc.id}','\${acc.name}')" class="absolute top-4 right-4 p-2.5 rounded-xl bg-red-500/10 text-red-500 opacity-0 group-hover:opacity-100 transition-all duration-300 hover:bg-red-500 hover:text-white z-10"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg></button><div class="flex items-center gap-3 mb-5"><div class="w-10 h-10 rounded-2xl \${c2} flex items-center justify-center shadow-lg">\${isE?'ERR':'SVG'}</div><div class="pr-8"><h4 class="font-bold text-sm \${c3} tracking-tight truncate">\${acc.name}</h4><p class="text-[9px] text-slate-500 font-mono italic">ID: \${acc.id.slice(0,12)}</p></div></div><div class="space-y-2"><div class="flex justify-between text-[10px] font-black \${c4} uppercase"><span>Capacity</span><span>\${isE?'ERROR':pct+'%'}</span></div><div class="w-full bg-white/5 h-1.5 rounded-full overflow-hidden"><div class="\${c5} h-full transition-all duration-1000" style="width:\${pct}%"></div></div><div class="flex justify-between text-[9px] font-bold text-slate-500 uppercase"><span>\${formatSize(acc.used_space)}</span><span>\${formatSize(acc.total_space)}</span></div></div></div>\`}).join('')}catch(e){console.error(e)}}
            </script>
            ${bodyScript}
        </body> 

        </html>
    `;
}

const BotDetectScript = `
<!--<script disable-devtool-auto src="https://cdn.jsdelivr.net/npm/disable-devtool" clear-log='true' disable-select='true' disable-copy='true' disable-cut='true' disable-paste='true'></script>-->
    <script type="module">
        (function(_0x1a2b, _0x3c4d) {
            const _0x5e6f = {
                'a': 'loading',
                'b': 'botDetectionResult',
                'c': 'https://openfpcdn.io/botd/v2',
                'd': 'bot',
                'e': 'botProbability',
                'f': 'unknown',
                'g': 'done',
                'h': 'Bot detection complete:',
                'i': 'BotD error:'
            };

            window[_0x5e6f.b] = { [_0x5e6f.a]: !![] };

            async function _0x9876() {
                try {
                    const _0x1111 = import(_0x5e6f.c);
                    const _0x2222 = await _0x1111;
                    const _0x3333 = await _0x2222['load']();
                    const _0x4444 = await _0x3333['detect']();

                    window[_0x5e6f.b] = {
                        'isBot': _0x4444[_0x5e6f.d],
                        'confidence': _0x4444[_0x5e6f.e] || _0x5e6f.f,
                        [_0x5e6f.g]: !![]
                    };
                    console['log'](_0x5e6f.h, window[_0x5e6f.b]);
                } catch (_0x5555) {
                    console['error'](_0x5e6f.i, _0x5555);
                    window[_0x5e6f.b] = { 'isBot': ![], [_0x5e6f.g]: !![], 'error': !![] };
                }
            }
            _0x9876();
        })();
    </script>
    <script type="text/javascript">
        (function(_0x1b2c, _0x3d4e) {
            const _0x5f6a = {
                'a': 'botDetectionResult',
                'b': 'done',
                'c': 'isBot',
                'd': 'DOMContentLoaded',
                'e': '__next',
                'f': 'block',
                'g': 'visible',
                'h': '\x42\x6f\x74\x20\x64\x65\x74\x65\x63\x74\x65\x64\x21\x20\x41\x63\x63\x65\x73\x73\x20\x64\x65\x6e\x69\x65\x64\x2e' // "Bot detected! Access denied."
            };

            function _0x22ab(_0x44cc, _0x12ff = 0x1388) {
                const _0x33dd = Date.now();
                const _0x55ee = setInterval(() => {
                    const _0xres = window[_0x5f6a.a];
                    if (_0xres && _0xres[_0x5f6a.b]) {
                        clearInterval(_0x55ee);
                        _0x44cc(_0xres);
                    } else if (Date.now() - _0x33dd > _0x12ff) {
                        clearInterval(_0x55ee);
                        _0x44cc({ [_0x5f6a.c]: ![], 'timeout': !![] });
                    }
                }, 0x64);
            }

            document.addEventListener(_0x5f6a.d, () => {
                _0x22ab((_0x0011) => {
                    const _0xdom = document.getElementById(_0x5f6a.e);
                    if (!_0xdom) return;

                    if (_0x0011[_0x5f6a.c]) {
                        _0xdom.innerHTML = '<h2>' + _0x5f6a.h + '</h2>';
                        return;
                    }
                    _0xdom.style.display = _0x5f6a.f;
                    _0xdom.style.visibility = _0x5f6a.g;
                });
            });
        })();
    </script>
`;

const LoginContent = `
    <section class="page-content active min-h-[70vh] flex items-center justify-center"><div class="dark:bg-slate-900 p-12 rounded-[3.5rem] w-full max-w-md text-center shadow-2xl border border-white/5"><h3 class="text-2xl font-extrabold mb-8 dark:text-slate-200 uppercase tracking-tight">Management system</h3><input id="u" type="text" placeholder="Username" class="w-full px-4 py-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 outline-none transition-all" autocomplete="off"> <input id="p" type="password" placeholder="Password" class="w-full px-4 py-4 rounded-xl border border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 text-slate-700 dark:text-slate-200 focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 outline-none transition-all mt-4 mb-10"><button onclick="handleLogin()" class="w-full bg-indigo-600 hover:bg-indigo-500 text-white p-5 rounded-2xl font-bold uppercase text-xs shadow-xl shadow-indigo-600/40 transition-all active:scale-[0.98]">Login</button></div></section>
`;

const LoginScript = `
    <script>
        const handleLogin=async()=>{const _0x2=['\x75','\x70','\x2f\x6c\x6f\x67\x69\x6e','\x50\x4f\x53\x54','\x43\x6f\x6e\x74\x65\x6e\x74\x2d\x54\x79\x70\x65','\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6a\x73\x6f\x6e','\x68\x70\x63\x5f\x74\x6f\x6b\x65\x6e','\x68\x70\x63\x5f\x75\x73\x65\x72','\x68\x70\x63\x5f\x72\x6f\x6c\x65','\x2f','\x65\x72\x72\x6f\x72','\x53\x61\x69\x20\x74\x20\x6b\x68\x6f\x1e\x6e\x20\x68\x6f\x1eb\x63\x20\x6d\x1ead\x74\x20\x6b\x68\x1ea\x75','\x53\x65\x72\x76\x65\x72\x20\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e\x20\x65\x72\x72\x6f\x72'];const u=document.getElementById(_0x2[0]).value,p=document.getElementById(_0x2[1]).value;try{const r=await fetch(_0x2[2],{method:_0x2[3],headers:{[_0x2[4]]:_0x2[5]},body:JSON.stringify({u,p})});if(r.ok){const d=await r.json();localStorage.setItem(_0x2[6],d.token);localStorage.setItem(_0x2[7],d.user.username);localStorage.setItem(_0x2[8],d.user.role);setTimeout(()=>window.location.replace(_0x2[9]),1000)}else{const d=await r.json();showAlert(_0x2[10],d.error||_0x2[11])}}catch(e){showAlert(_0x2[10],_0x2[12])}};
    </script>
`;

const HomeContent = `
    <section class="page-content space-y-8"><div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-3 gap-4 mb-8"><div class="bg-gradient-to-br from-indigo-600 to-violet-700 p-3 rounded-2xl text-white shadow-lg"><p class="text-indigo-100 text-[12px] uppercase font-bold">Capacity</p><div class="flex items-baseline gap-2"><h3 id="totalUsed" class="text-xl font-black mt-1">0</h3></div><div class="w-full bg-slate-100 h-1.5 mt-2 rounded-full overflow-hidden"><div id="poolBar" class="bg-indigo-500 h-full transition-all duration-500" style="width:0%"></div></div></div><div class="bg-gradient-to-br from-indigo-600 to-violet-700 p-3 rounded-2xl text-white shadow-lg"><p class="text-indigo-100 text-[12px] uppercase font-bold">Total number of files</p><h3 id="statFiles" class="text-xl font-black mt-1">0</h3></div><div class="bg-gradient-to-br from-indigo-600 to-violet-700 p-3 rounded-2xl text-white shadow-lg"><p class="text-indigo-100 text-[12px] uppercase font-bold">Member</p><h3 id="statUsers" class="text-xl font-black mt-1">0</h3></div></div><div class="bg-white dark:bg-slate-900 border dark:border-slate-800 rounded-[2.5rem] p-10"><div class="flex justify-between items-center mb-3"><h2 class="text-md font-extrabold uppercase">File list</h2><button id="bulkActions" onclick="deleteSelectedFiles()" class="hidden bg-red-600/20 hover:bg-red-600 text-red-500 hover:text-white px-5 py-2 rounded-xl text-[10px] font-bold uppercase">Delete (<span id="selectedCount" class="text-gray-400"></span>) file</button></div><div class="flex justify-between items-center mb-3"><div class="relative"><span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-500"><svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></span><input type="text" id="searchInput" placeholder="Search for files..." class="w-full h-10 pl-10 bg-white dark:bg-slate-900 dark:border-slate-800 border px-5 py-2.5 rounded-xl text-[11px] flex-1 outline-none shadow-sm focus:ring-2 focus:ring-indigo-500" autocomplete="off"></div><div class="flex items-center gap-2 bg-gray-800/50 p-1 rounded-xl border border-white/5"><button onclick='changeView("list")' id="btnList" class="p-2 rounded-lg transition-all bg-blue-600 text-white shadow-lg"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg></button><button onclick='changeView("grid")' id="btnGrid" class="p-2 rounded-lg transition-all text-gray-400 hover:bg-white/5"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 5a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1V5zm10 0a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1V5zM4 15a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1H5a1 1 0 01-1-1v-4zm10 0a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"/></svg></button></div></div><div id="fileContainer" class=""></div></div><div class="mt-6 text-center"><button id="btnLoadMore" onclick="loadFiles(!0)" class="text-gray-400 hover:text-white transition">See older files...</button></div></section><button onclick="toggleUploadModal(!0)" class="fixed bottom-8 right-8 w-14 h-14 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full shadow-[0_0_20px_rgba(79,70,229,0.4)] flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-[100] group" title="Upload a new file"><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 group-hover:rotate-90 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4"/></svg></button><div id="uploadModal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4"><div class="fixed inset-0 bg-black/70 backdrop-blur-sm" onclick="toggleUploadModal(!1)"></div><div id="modalContainer" class="relative w-full max-w-2xl bg-gray-900 border border-white/10 rounded-3xl shadow-2xl transition-all duration-300 scale-95 opacity-0"><div class="p-6 border-b border-white/5 flex justify-between items-center"><h3 class="text-white font-semibold text-lg flex items-center gap-2"><span class="p-2 bg-blue-500/20 rounded-lg text-blue-400"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/></svg></span>Upload file</h3><button onclick="toggleUploadModal(!1)" class="text-gray-500 hover:text-white transition"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button></div><div class="p-8"><div id="dropZone" class="border-2 border-dashed border-gray-700 hover:border-blue-500/50 bg-gray-800/30 rounded-2xl p-10 text-center cursor-pointer mb-6 transition-all group"><input type="file" id="fileInput" class="hidden" multiple="multiple" onchange="handleBulkUpload(this)"><div class="space-y-3"><div class="w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto group-hover:scale-110 transition"><svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg></div><p class="text-gray-300 font-medium text-lg">Drag and drop the file here.</p><p class="text-gray-500 text-sm">Ti a 100MB mi tp</p></div></div><div class="flex items-center justify-between gap-4 p-4 bg-gray-800/50 rounded-2xl mb-6 border border-white/5"><div class="flex items-center gap-3"><div class="p-2 bg-gray-900 rounded-lg"><svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg></div><div><p class="text-xs text-gray-500 uppercase font-bold tracking-wider">Display mode</p><select id="fileStatus" class="bg-transparent text-gray-200 font-medium outline-none cursor-pointer focus:text-blue-400 transition"><option value="private" class="bg-gray-900 text-white"> Private (Only you)</option><option value="internal" class="bg-gray-900 text-white"> Internal (Members)</option><option value="public" class="bg-gray-900 text-white"> Public (Everyone)</option></select></div></div><button onclick='document.getElementById("fileInput").click()' class="bg-blue-600 hover:bg-blue-500 text-white px-6 py-2.5 rounded-xl font-semibold shadow-lg shadow-blue-500/20 active:scale-95 transition-all text-sm">SELECT FILE</button></div><div id="uploadStatusList" class="max-h-40 overflow-y-auto space-y-2 custom-scrollbar"></div></div></div></div><div id="previewModal" class="fixed inset-0 z-[110] hidden flex items-center justify-center p-4"><div class="fixed inset-0 bg-black/90 backdrop-blur-md" onclick="closePreview()"></div><div class="relative w-full max-w-8xl h-[90vh] bg-gray-900 rounded-3xl overflow-hidden border border-white/10 flex flex-col"><div class="p-4 border-b border-white/5 flex justify-between items-center bg-gray-800/50"><h3 id="previewTitle" class="text-white font-medium truncate pr-4">File name</h3><div class="flex items-center gap-3"><button id="previewDownloadBtn" class="text-gray-400 hover:text-white transition-colors p-2"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg></button><button onclick="closePreview()" class="text-gray-400 hover:text-white transition-colors p-2"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg></button></div></div><div id="previewContent" class="flex-1 overflow-auto flex items-center justify-center bg-black/20"></div></div></div>
`;

const HomeScript = `
    <script>
        let currentPage = 1;
        document.addEventListener('DOMContentLoaded', () => {
            changeView(currentView);
            loadData();
            verifyAccounts();
        });
        
        const verifyAccounts=async()=>{const _0x3=['\x2f\x61\x70\x69\x2f\x73\x65\x72\x76\x65\x72\x73\x2f\x76\x65\x72\x69\x66\x79','\x53\x65\x72\x76\x65\x72\x20\x45\x72\x72\x6f\x72','\x77\x61\x72\x6e\x69\x6e\x67','\x41\x6c\x6c\x20\x61\x63\x63\x6f\x75\x6e\x74\x73\x20\x61\x72\x65\x20\x77\x6f\x72\x6b\x69\x6e\x67\x20\x66\x69\x6e\x65\x21','\x73\x75\x63\x63\x65\x73\x73','\x65\x72\x72\x6f\x72','\x45\x72\x72\x6f\x72\x20\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6e\x67\x20\x74\x6f\x20\x73\x65\x72\x76\x65\x72'];try{const r=await api(_0x3[0]);if(!r.ok)throw new Error(_0x3[1]);const d=await r.json();if(d.errors&&d.errors.length>0){showToast(\`Detected \${d.errors.length} account error: \${d.errors.join(', ')}\`,_0x3[2]);if(typeof loadData==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')loadData()}else{showToast(_0x3[3],_0x3[4])}}catch(e){console.error(e);showToast(_0x3[6],_0x3[5])}};

        const loadFiles=async(_0x1=false)=>{const _0x2=['\x66\x69\x6c\x65\x43\x6f\x6e\x74\x61\x69\x6e\x65\x72','\x69\x6e\x6e\x65\x72\x48\x54\x4d\x4c','\x3c\x64\x69\x76\x20\x63\x6c\x61\x73\x73\x3d\x22\x63\x6f\x6c\x2d\x73\x70\x61\x6e\x2d\x66\x75\x6c\x6c\x20\x70\x2d\x31\x30\x20\x74\x65\x78\x74\x2d\x63\x65\x6e\x74\x65\x72\x20\x74\x65\x78\x74\x2d\x67\x72\x61\x79\x2d\x35\x30\x30\x20\x61\x6e\x69\x6d\x61\x74\x65\x2d\x70\x75\x6c\x73\x65\x22\x3e\x4c\x6f\x61\x64\x69\x6e\x67\x20\x6c\x69\x73\x74\x2e\x2e\x2e\x3c\x2f\x64\x69\x76\x3e','\x2f\x61\x70\x69\x2f\x66\x69\x6c\x65\x73\x3f\x70\x61\x67\x65\x3d','\x26\x71\x3d','\x3c\x64\x69\x76\x20\x63\x6c\x61\x73\x73\x3d\x22\x63\x6f\x6c\x2d\x73\x70\x61\x6e\x2d\x66\x75\x6c\x6c\x20\x70\x2d\x31\x30\x20\x74\x65\x78\x74\x2d\x63\x65\x6e\x74\x65\x72\x20\x74\x65\x78\x74\x2d\x67\x72\x61\x79\x2d\x35\x30\x30\x22\x3e\x4e\x6f\x20\x66\x69\x6c\x65\x73\x20\x77\x65\x72\x65\x20\x66\x6f\x75\x6e\x64\x2e\x3c\x2f\x64\x69\x76\x3e','\x62\x74\x6e\x4c\x6f\x61\x64\x4d\x6f\x72\x65','\x61\x64\x64','\x68\x69\x64\x64\x65\x6e','\x72\x65\x6d\x6f\x76\x65'];try{if(!_0x1){currentPage=1;const c=document.getElementById(_0x2[0]);if(c)c[_0x2[1]]=_0x2[2]}const r=await api(_0x2[3]+currentPage+_0x2[4]+encodeURIComponent(currentSearch)),f=await r.json();if(f.length===0){if(!_0x1)document.getElementById(_0x2[0])[_0x2[1]]=_0x2[5];document.getElementById(_0x2[6]).classList[_0x2[7]](_0x2[8]);return}renderFiles(f,_0x1);currentPage++;document.getElementById(_0x2[6]).classList[f.length<20?_0x2[7]:_0x2[9]](_0x2[8])}catch(e){console.error(e)}};

        function getStatusClass(status) {
            switch(status) {
                case 'public': return 'bg-green-900 text-green-300';
                case 'internal': return 'bg-yellow-900 text-yellow-300';
                default: return 'bg-gray-700 text-gray-300';
            }
        };

        const copyLink=(_0x5)=>{const _0x1=['\x6f\x72\x69\x67\x69\x6e','\x2f\x61\x70\x69\x2f\x70\x72\x6f\x78\x79\x2f','\x63\x6c\x69\x70\x62\x6f\x61\x72\x64','\x77\x72\x69\x74\x65\x54\x65\x78\x74','\x69\x6e\x66\x6f','\ud83d\udd17\x20\x53\x68\x61\x72\x65\x64\x20\x6c\x69\x6e\x6b\x20\x63\x6f\x70\x69\x65\x64\x21'];const s=\`\${window.location[_0x1[0]]}\${_0x1[1]}\${_0x5}\`;navigator[_0x1[2]][_0x1[3]](s).then(()=>{showAlert(_0x1[4],_0x1[5])})};

        const downloadFile=(_0x1,_0x2)=>{const _0x3=['\x2f\x61\x70\x69\x2f\x70\x72\x6f\x78\x79\x2f','\x3f\x64\x6f\x77\x6e\x6c\x6f\x61\x64\x3d\x31\x26\x6e\x61\x6d\x65\x3d','\x5f\x62\x6c\x61\x6e\x6b','\x6f\x70\x65\x6e'];const u=\`\${_0x3[0]}\${_0x1}\${_0x3[1]}\${encodeURIComponent(_0x2)}\`;window[_0x3[3]](u,_0x3[2])};

        const confirmDelete=async(_0x4,_0x5)=>{const _0x8=['\x41\x72\x65\x20\x79\x6f\x75\x20\x73\x75\x72\x65\x20\x74\x6f\x20\x64\x65\x6c\x65\x74\x65\x20\x22','\x22\x3f','\x2f\x61\x70\x69\x2f\x64\x65\x6c\x65\x74\x65\x2f','\x44\x45\x4c\x45\x54\x45','\x6f\x6b','\x65\x72\x72\x6f\x72','\x45\x72\x72\x6f\x72\x3a\x20','\x44\x65\x6c\x65\x74\x65\x20\x65\x72\x72\x6f\x72\x3a'];showConfirmModal(\`\${_0x8[0]}\${_0x5}\${_0x8[1]}\`,async()=>{try{const r=await api(\`\${_0x8[2]}\${_0x4}\`,{method:_0x8[3]});if(r[_0x8[4]]){loadFiles();loadData()}else{const e=await r.json();showAlert(_0x8[5],_0x8[6]+(e.error||''))}}catch(e){console.error(e);showAlert(_0x8[5],_0x8[7]+e)}})};

        function toggleSelectAll(masterCheckbox) {
            const checkboxes = document.querySelectorAll('.file-checkbox');
            checkboxes.forEach(cb => cb.checked = masterCheckbox.checked);
            updateBulkUI();
        }

        function updateBulkUI() {
            const checkboxes = document.querySelectorAll('.file-checkbox:checked');
            const bulkActions = document.getElementById('bulkActions');
            const selectedCount = document.getElementById('selectedCount');
            if (checkboxes.length > 0) {
                bulkActions.classList.remove('hidden');
                selectedCount.innerText = \`\${checkboxes.length}\`;
            } else {
                bulkActions.classList.add('hidden');
                document.getElementById('selectAll').checked = false;
            }
        }

        const deleteSelectedFiles=async()=>{const _0x9=['\x71\x75\x65\x72\x79\x53\x65\x6c\x65\x63\x74\x6f\x72\x41\x6c\x6c','\x2e\x66\x69\x6c\x65\x2d\x63\x68\x65\x63\x6b\x62\x6f\x78\x3a\x63\x68\x65\x63\x6b\x65\x64','\x41\x72\x65\x20\x79\x6f\x75\x20\x73\x75\x72\x65\x20\x74\x6f\x20\x64\x65\x6c\x65\x74\x65\x20','\x20\x66\x69\x6c\x65\x73\x3f','\x23\x20\x44\x65\x6c\x65\x74\x69\x6e\x67\x20','\x2e\x2e\x2e','\x69\x6e\x66\x6f','\x2f\x61\x70\x69\x2f\x66\x69\x6c\x65\x73\x2f\x62\x75\x6c\x6b\x2d\x64\x65\x6c\x65\x74\x65','\x50\x4f\x53\x54','\x6f\x6b','\u2705\x20\x44\x65\x6c\x65\x74\x65\x64\x20','\x20\x66\x69\x6c\x65\x73\x21','\x73\x75\x63\x63\x65\x73\x73','\x73\x65\x6c\x65\x63\x74\x41\x6c\x6c','\x65\x72\x72\x6f\x72','\x45\x72\x72\x6f\x72\x20\x64\x65\x6c\x65\x74\x69\x6e\x67','\x53\x65\x72\x76\x65\x72\x20\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e\x20\x65\x72\x72\x6f\x72'];const i=Array.from(document[_0x9[0]](_0x9[1])).map(c=>c.value);if(i.length===0)return;showConfirmModal(\`\${_0x9[2]}\${i.length}\${_0x9[3]}\`,async()=>{if(typeof closeConfirmModal==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')closeConfirmModal();const t=showToast(\`\${_0x9[4]}\${i.length}\${_0x9[5]}\`,_0x9[6],10000);try{const r=await api(_0x9[7],{method:_0x9[8],body:JSON.stringify({ids:i})});t.remove();if(r[_0x9[9]]){showToast(\`\${_0x9[10]}\${i.length}\${_0x9[11]}\`,_0x9[12]);document.getElementById(_0x9[13]).checked=false;currentPage=1;await loadFiles(false);if(typeof loadData==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')loadData()}else{const d=await r.json();showToast(d.error||_0x9[15],_0x9[14])}}catch(e){t.remove();showToast(_0x9[16],_0x9[14])}})};

        function toggleUploadModal(show) {
            const modal = document.getElementById('uploadModal');
            const container = document.getElementById('modalContainer');
            if (show) {
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                setTimeout(() => {
                    container.classList.remove('scale-95', 'opacity-0');
                    container.classList.add('scale-100', 'opacity-100');
                }, 10);
            } else {
                container.classList.remove('scale-100', 'opacity-100');
                container.classList.add('scale-95', 'opacity-0');
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }, 300);
            }
        };

        const dz = document.getElementById('dropZone');
        if(dz) {
            dz.addEventListener('dragover', (e) => { e.preventDefault(); dz.classList.add('border-blue-500', 'bg-blue-500/5'); });
            dz.addEventListener('dragleave', () => { dz.classList.remove('border-blue-500', 'bg-blue-500/5'); });
            dz.addEventListener('drop', (e) => {
                e.preventDefault();
                dz.classList.remove('border-blue-500', 'bg-blue-500/5');
                const input = document.getElementById('fileInput');
                input.files = e.dataTransfer.files;
                handleBulkUpload(input);
            });
            dz.onclick = () => document.getElementById('fileInput').click();
        };
        
        let isUploading = false;

        const sleep = (ms) => new Promise(resolve => setTimeout(resolve, ms));

        const handleBulkUpload=async(_0x7)=>{const _0x4=['\x75\x70\x6c\x6f\x61\x64\x53\x74\x61\x74\x75\x73\x4c\x69\x73\x74','\x66\x69\x6c\x65\x53\x74\x61\x74\x75\x73','\x70\x72\x69\x76\x61\x74\x65','\x68\x69\x64\x64\x65\x6e','\x69\x6e\x66\x6f','\x49\x67\x6e\x6f\x72\x65\x20\x66\x69\x6c\x65\x20','\x3a\x20\x54\x6f\x6f\x20\x6c\x61\x72\x67\x65\x20\x28\x3e\x31\x30\x30\x4d\x42\x29','\x55\x70\x6c\x6f\x61\x64\x69\x6e\x67\x20\x28','\x2f','\x29\x3a\x20','\x2e\x2e\x2e','\x2f\x61\x70\x69\x2f\x75\x70\x6c\x6f\x61\x64','\x50\x4f\x53\x54','\x78\x2d\x66\x69\x6c\x65\x2d\x6e\x61\x6d\x65','\x78\x2d\x66\x69\x6c\x65\x2d\x73\x74\x61\x74\x75\x73','\x63\x6f\x6e\x74\x65\x6e\x74\x2d\x74\x79\x70\x65','\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\x6f\x63\x74\x65\x74\x2d\x73\x74\x72\x65\x61\x6d','\x63\x6f\x6e\x74\x65\x6e\x74\x2d\x6c\x65\x6e\x67\x74\x68','\x73\x75\x63\x63\x65\x73\x73','\x53\x75\x63\x63\x65\x73\x73\x3a\x20','\x55\x70\x6c\x6f\x61\x64\x20\x65\x72\x72\x6f\x72\x20','\x3a\x20','\x55\x70\x6c\x6f\x61\x64\x20\x63\x6f\x6d\x70\x6c\x65\x74\x65\x21'];const f=Array.from(_0x7.files);if(f.length===0)return;isUploading=true;const s=document.getElementById(_0x4[0]),ss=document.getElementById(_0x4[1]),sv=ss?ss.value:_0x4[2];s.classList.remove(_0x4[3]);_0x7.value='';for(let i=0;i<f.length;i++){const fl=f[i];if(fl.size>104857600){showAlert(_0x4[4],_0x4[5]+fl.name+_0x4[6]);continue}s.innerText=\`\${_0x4[7]}\${i+1}\${_0x4[8]}\${f.length}\${_0x4[9]}\${fl.name}\${_0x4[10]}\`;try{const r=await fetch(_0x4[11],{method:_0x4[12],headers:{[_0x4[13]]:encodeURIComponent(fl.name),[_0x4[14]]:sv,[_0x4[15]]:fl.type||_0x4[16],[_0x4[17]]:fl.size.toString()},body:fl});if(!r.ok){const e=await r.json();throw new Error(e.error||'Err')}showAlert(_0x4[18],_0x4[19]+fl.name)}catch(e){showAlert(_0x4[4],_0x4[20]+fl.name+_0x4[21]+e.message)}if(i<f.length-1)await new Promise(r=>setTimeout(r,500))}s.innerText=_0x4[22];setTimeout(()=>s.classList.add(_0x4[3]),3000);isUploading=false;if(typeof loadFiles==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')loadFiles();if(typeof loadData==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')loadData()};

        let searchTimer;
        let currentSearch = "";

        document.getElementById('searchInput')?.addEventListener('input', (e) => {
            currentSearch = e.target.value;
            clearTimeout(searchTimer);
            searchTimer = setTimeout(() => {
                currentPage = 1; 
                loadFiles(false);
            }, 400);
        });

        function changeView(mode) {
            currentView = mode;
            localStorage.setItem('viewMode', mode);
            document.getElementById('btnList').className = mode === 'list' ? 'p-2 rounded-lg bg-blue-600 text-white shadow-lg' : 'p-2 rounded-lg text-gray-400 hover:bg-white/5';
            document.getElementById('btnGrid').className = mode === 'grid' ? 'p-2 rounded-lg bg-blue-600 text-white shadow-lg' : 'p-2 rounded-lg text-gray-400 hover:bg-white/5';
            loadFiles();
        }

        const renderFiles=(_0x4e,_0x2a=false)=>{const _0x1c=['\x66\x69\x6c\x65\x43\x6f\x6e\x74\x61\x69\x6e\x65\x72','\x6c\x69\x73\x74','\x66\x69\x6c\x65\x4c\x69\x73\x74\x42\x6f\x64\x79','\x74\x72','\x64\x69\x76'];const c=document.getElementById(_0x1c[0]),g=["mt-6","grid","grid-cols-2","md:grid-cols-4","lg:grid-cols-6","gap-6"];if(!_0x2a){c.innerHTML='';if(currentView===_0x1c[1]){c.classList.remove(...g);c.innerHTML=\`<table class="w-full text-left"><thead><tr class="text-[10px] uppercase text-slate-400 border-b dark:border-slate-800"><th class="p-4 w-10"><input type="checkbox" id="selectAll" onclick="toggleSelectAll(this)" class="rounded border-gray-700 bg-gray-800"></th><th class="p-4">File Name</th><th class="p-4">Size</th><th class="p-4">Status</th><th class="p-4">Creation Date</th><th class="p-4 text-center">Operation</th></tr></thead><tbody id="fileListBody"></tbody></table>\`}else{c.classList.add(...g)}}const t=(currentView===_0x1c[1])?document.getElementById(_0x1c[2]):c;_0x4e.forEach(f=>{if(currentView===_0x1c[1]){const r=document.createElement(_0x1c[3]);r.className="border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors";r.innerHTML=\`<td class="p-2"><input type="checkbox" class="file-checkbox rounded border-gray-700 bg-gray-800" value="\${f.file_id}" onchange="updateBulkUI()"></td><td class="p-2 text-[11px] text-slate-700 dark:text-slate-200"><div onclick="viewFile('\${f.file_id}','\${f.name}')" class="cursor-pointer hover:text-blue-500 font-medium">\${f.name}</div></td><td class="p-2 text-[9px] text-slate-700 dark:text-slate-200">\${(f.size/1048576).toFixed(2)} MB</td><td class="p-2"><span class="px-2 py-1 \${getStatusClass(f.status)} rounded text-[9px] uppercase tracking-wider">\${f.status.toUpperCase()}</span></td><td class="p-2 text-[9px] text-slate-700 dark:text-slate-200">\${dateFormatString(f.created_at)}</td><td class="p-2"><div class="flex items-center justify-center gap-2">\${renderActions(f)}</div></td>\`;t.appendChild(r)}else{const d=document.createElement(_0x1c[4]);d.className="bg-gray-900 border border-white/5 p-3 rounded-[2rem] hover:border-blue-500/50 transition-all group relative overflow-hidden shadow-lg flex flex-col";d.innerHTML=\`<div class="absolute top-4 left-4 z-30 opacity-0 group-hover:opacity-100 has-[:checked]:opacity-100 transition-opacity"><input type="checkbox" value="\${f.file_id}" class="file-checkbox w-5 h-5 rounded-lg border-white/20 bg-black/60 text-indigo-600 focus:ring-indigo-500 cursor-pointer shadow-md" onclick="event.stopPropagation();updateBulkUI();"></div><div class="absolute top-4 right-4 z-30 flex gap-1 opacity-0 group-hover:opacity-100 transition-all translate-y-[-10px] group-hover:translate-y-0">\${renderActions(f)}</div><div class="relative aspect-[9/16] bg-gray-800/50 rounded-[1.5rem] mb-3 flex items-center justify-center overflow-hidden cursor-pointer z-10" onclick="viewFile('\${f.file_id}','\${f.name}')"><div class="absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"></div>\${renderPreviewIcon(f)}</div><div class="flex flex-col px-1 pb-1"><span class="text-xs font-bold text-gray-200 truncate w-full mb-1" title="\${f.name}">\${f.name}</span><div class="flex justify-between items-center"><span class="text-[10px] text-gray-500 font-medium">\${formatSize(f.size)}</span><span class="px-1.5 py-0.5 rounded-md bg-white/5 text-[9px] text-gray-400 uppercase font-bold border border-white/5">\${getFileExtension(f.name)}</span></div></div>\`;t.appendChild(d)}})}

        function getFileExtension(name) {
            return name.split('.').pop().toLowerCase();
        };
        
        function renderPreviewIcon(_0x2e){const _0x1c=['\x67\x65\x74\x46\x69\x6c\x65\x45\x78\x74\x65\x6e\x73\x69\x6f\x6e','\x77\x2d\x31\x30\x20\x68\x2d\x31\x30\x20\x74\x72\x61\x6e\x73\x69\x74\x69\x6f\x6e\x2d\x74\x72\x61\x6e\x73\x66\x6f\x72\x6d\x20\x67\x72\x6f\x75\x70\x2d\x68\x6f\x76\x65\x72\x3a\x73\x63\x61\x6c\x65\x2d\x31\x31\x30\x20\x64\x75\x72\x61\x74\x69\x6f\x6e\x2d\x35\x30\x30\x20\x65\x61\x73\x65\x2d\x6f\x75\x74','\x6a\x70\x67','\x6a\x70\x65\x67','\x70\x6e\x67','\x67\x69\x66','\x77\x65\x62\x70','\x6d\x70\x34','\x6d\x6b\x76','\x6f\x62\x6a\x65\x63\x74\x2d\x63\x6f\x76\x65\x72','\x2f\x61\x70\x69\x2f\x74\x68\x75\x6d\x62\x6e\x61\x69\x6c\x2f'];const e=window[_0x1c[0]](_0x2e.name),s=_0x1c[1],t=[_0x1c[2],_0x1c[3],_0x1c[4],_0x1c[5],_0x1c[6],_0x1c[7],_0x1c[8],'\x6d\x6f\x76'];if(t.includes(e)){const u=\`\${_0x1c[10]}\${_0x2e.file_id}\`;return\`<div class="relative w-full h-full flex items-center justify-center"><div class="absolute inset-0 z-0 flex items-center justify-center bg-slate-800 rounded-2xl">\${getDefaultIconByExt(e,s)}</div><img src="\${u}" alt="\${_0x2e.name}" loading="lazy" class="relative z-5 w-full h-full \${_0x1c[9]} rounded-2xl transition-opacity duration-300" onerror="this.style.opacity='0';this.nextElementSibling?.classList.remove('hidden');"></div>\`}return getDefaultIconByExt(e,s)}
        
        function getDefaultIconByExt(_0x1e, _0x2c) {
            const _0x4f = [
                ['image', 'text-pink-500', ['svg', 'jfif'], 'M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z'],
                ['excel', 'text-green-500', ['xlsx', 'xls', 'csv'], 'M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'],
                ['word', 'text-blue-500', ['docx', 'doc'], 'M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'],
                ['pdf', 'text-red-500', ['pdf'], 'M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z'],
                ['exe', 'text-amber-500', ['exe', 'msi', 'bat'], 'M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z'],
                ['code', 'text-indigo-400', ['html', 'css', 'js', 'json', 'py', 'php', 'txt', 'sql'], 'M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4'],
                ['archive', 'text-orange-400', ['zip', 'rar', '7z', 'tar'], 'M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-14v4m0 0l8 4m-8-4l-8 4m8 4l8-4m-8 4v10']
            ];
            let c = "\x74\x65\x78\x74\x2d\x67\x72\x61\x79\x2d\x34\x30\x30",
                p = "\x4d\x37\x20\x32\x31\x68\x31\x30\x61\x32\x20\x32\x20\x30\x30\x30\x32\x2d\x32\x56\x39\x2e\x34\x31\x34\x61\x31\x20\x31\x20\x30\x30\x30\x2d\x2e\x32\x39\x33\x2d\x2e\x37\x30\x37\x6c\x2d\x35\x2e\x34\x31\x34\x2d\x35\x2e\x34\x31\x34\x41\x31\x20\x31\x20\x30\x30\x30\x31\x32\x2e\x35\x38\x36\x20\x33\x48\x37\x61\x32\x20\x32\x20\x30\x30\x30\x2d\x32\x20\x32\x76\x31\x34\x61\x32\x20\x32\x20\x30\x30\x30\x32\x20\x32\x7a";
            for (let i = 0; i < _0x4f.length; i++) {
                if (_0x4f[i][2].includes(_0x1e)) {
                    c = _0x4f[i][1];
                    p = _0x4f[i][3];
                    break;
                }
            }
            return \`<svg class="\${_0x2c} \${c}" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="\${p}"/></svg>\`;
        }

        function renderActions(file) {
            return \`
                <button onclick="copyLink('\${file.file_id}')" class="p-2 text-blue-400 hover:bg-blue-500/10 rounded-xl transition">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"/></svg>
                </button>
                <button onclick="downloadFile('\${file.file_id}', '\${file.name}')" class="p-2 text-green-400 hover:bg-green-500/10 rounded-xl transition">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                </button>
            \`;
        }

        async function viewFile(_0x4a, _0x1b) {
            const _0x5c = ['\x67\x65\x74\x46\x69\x6c\x65\x45\x78\x74\x65\x6e\x73\x69\x6f\x6e', '\x70\x72\x65\x76\x69\x65\x77\x4d\x6f\x64\x61\x6c', '\x70\x72\x65\x76\x69\x65\x77\x43\x6f\x6e\x74\x65\x6e\x74', '\x70\x72\x65\x76\x69\x65\x77\x54\x69\x74\x6c\x65', '\x70\x72\x65\x76\x69\x65\x77\x44\x6f\x77\x6e\x6c\x6f\x61\x64\x42\x74\x6e', '\x2f\x61\x70\x69\x2f\x70\x72\x6f\x78\x79\x2f', '\x68\x69\x64\x64\x65\x6e'];
            const e = window[_0x5c[0]](_0x1b),
                u = \`\${window.location.origin}\${_0x5c[5]}\${_0x4a}\`,
                m = document.getElementById(_0x5c[1]),
                c = document.getElementById(_0x5c[2]),
                t = document.getElementById(_0x5c[3]),
                d = document.getElementById(_0x5c[4]);
            t.innerText = _0x1b;
            d.onclick = () => downloadFile(_0x4a, _0x1b);
            c.innerHTML = '<div class="flex flex-col items-center justify-center h-full"><div class="w-10 h-10 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"></div><p class="mt-4 text-slate-400 text-sm italic">Loading...</p></div>';
            m.classList.remove(_0x5c[6]);
            if (['jpg', 'jpeg', 'png', 'gif', 'webp', 'svg'].includes(e)) {
                c.innerHTML = \`<img src="\${u}" class="max-w-full max-h-full object-contain shadow-2xl rounded-lg">\`
            } else if (['mp4', 'webm', 'ogv', 'mov'].includes(e)) {
                c.innerHTML = \`<video src="\${u}" controls autoplay class="max-w-full max-h-full rounded-lg shadow-2xl"></video>\`
            } else if (e === 'pdf') {
                c.innerHTML = \`<iframe src="\${u}" class="w-full h-full border-none rounded-xl bg-white"></iframe>\`
            } else if (['doc', 'docx', 'xls', 'xlsx', 'ppt', 'pptx'].includes(e)) {
                const exp = Date.now() + 600000,
                    tk = "\x70\x72\x65\x76\x69\x65\x77\x5f" + _0x4a.slice(0, 8),
                    raw = \`\${window.location.origin}\x2f\x61\x70\x69\x2f\x72\x61\x77\x2f\${_0x4a}\x3f\x65\x78\x70\x69\x72\x65\x73\x3d\${exp}\x26\x74\x6f\x6b\x65\x6e\x3d\${tk}\`,
                    gv = \`\x68\x74\x74\x70\x73\x3a\x2f\x2f\x76\x69\x65\x77\x2e\x6f\x66\x66\x69\x63\x65\x61\x70\x70\x73\x2e\x6c\x69\x76\x65\x2e\x63\x6f\x6d\x2f\x6f\x70\x2f\x76\x69\x65\x77\x2e\x61\x73\x70\x78\x3f\x73\x72\x63\x3d\${encodeURIComponent(raw)}\x26\x65\x6d\x62\x65\x64\x64\x65\x64\x3d\x74\x72\x75\x65\`;
                c.innerHTML = \`<iframe src="\${gv}" class="w-full h-full border-none rounded-xl bg-white shadow-2xl"></iframe>\`
            } else if (['txt', 'js', 'json', 'py', 'css', 'html', 'sql', 'md'].includes(e)) {
                try {
                    const r = await fetch(u),
                        txt = await r.text();
                    c.innerHTML = \`<pre class="p-6 text-indigo-200 font-mono text-xs w-full h-full text-left whitespace-pre-wrap overflow-auto bg-slate-950/50 rounded-xl border border-white/5">\${txt.replace(/</g,'\x26\x6c\x74\x3b')}</pre>\`
                } catch (_0x2e) {
                    c.innerHTML = '<p class="text-red-500">Error loading content.</p>'
                }
            } else {
                c.innerHTML = \`<div class="flex flex-col items-center justify-center p-12 bg-slate-900/50 rounded-[3rem] border border-white/5 shadow-2xl"><div class="p-6 bg-slate-800 rounded-3xl mb-6 shadow-inner">\${renderPreviewIcon({name:_0x1b})}</div><p class="text-slate-300 font-bold text-lg mb-2">No preview available</p><button onclick="downloadFile('\${_0x4a}','\${_0x1b}')" class="bg-indigo-600 hover:bg-indigo-500 text-white px-8 py-3 rounded-2xl font-bold transition-all shadow-lg">Download</button></div>\`
            }
        }
        
        function closePreview() {
            const content = document.getElementById('previewContent');
            content.innerHTML = '';
            document.getElementById('previewModal').classList.add('hidden');
        };
    </script>
`;

const AdminUserContent = `
    <section class="page-content space-y-6"><div class="bg-white dark:bg-slate-900 border dark:border-slate-800 rounded-[2.5rem] p-10"><div class="flex justify-between items-center mb-10"><h2 class="text-xl font-extrabold uppercase">User management</h2></div><table class="w-full text-left"><thead><tr class="text-[10px] uppercase text-slate-400 border-b dark:border-slate-800"><th class="pb-4">User</th><th class="pb-4">Permissions</th><th class="pb-4">Creation Date</th><th class="pb-4">Used</th><th class="pb-4 text-right">Actions</th></tr></thead><tbody id="userList"></tbody></table></div></section><div id="modalUser" class="hidden fixed inset-0 bg-black/90 backdrop-blur-md z-[110] flex items-center justify-center p-6"><div class="bg-slate-900 border border-white/5 w-full max-w-sm rounded-[2.5rem] p-10 shadow-2xl"><h3 class="text-xl font-extrabold mb-8 dark:text-slate-200 uppercase text-center">Member information</h3><div class="space-y-3"><input id="mu_user" placeholder="Username" class="w-full bg-slate-950 border border-white/5 p-4 rounded-xl text-xs outline-none focus:ring-1 focus:ring-indigo-500" autocomplete="off"> <input id="mu_pass" type="password" placeholder="Password" class="w-full bg-slate-950 border border-white/5 p-4 rounded-xl text-xs outline-none focus:ring-1 focus:ring-indigo-500" autocomplete="off"><div class="relative w-full group"><select id="mu_role" class="w-full appearance-none bg-slate-50 dark:bg-slate-900 text-slate-700 dark:text-slate-200 border border-slate-200 dark:border-slate-800 p-4 pr-12 rounded-xl text-sm font-medium focus:ring-2 focus:ring-indigo-500/50 focus:border-indigo-500 transition-all duration-200 outline-none cursor-pointer"><option value="user"> User</option><option value="admin"> Admin</option></select><label class="block text-xs text-gray-400 mb-1">Storage limit</label><select id="max_space" class="w-full bg-slate-800 border border-white/10 rounded-xl p-2 text-sm"><option value="1073741824">1 GB</option><option value="5368709120">5 GB</option><option value="10737418240">10 GB</option><option value="53687091200">50 GB</option><option value="-1">Unlimited</option></select><div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-slate-400 group-hover:text-indigo-500 transition-colors"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M19 9l-7 7-7-7"></path></svg></div></div></div><div class="flex gap-3 mt-8"><button onclick="toggleUserModal(!1)" class="flex-1 bg-slate-800 py-4 rounded-xl text-[10px] font-black uppercase">Cancel</button><button onclick="saveUser()" class="flex-1 bg-indigo-600 py-4 rounded-xl text-[10px] font-black uppercase">Save</button></div></div></div><div id="userModalEdit" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] hidden items-center justify-center p-4"><div class="bg-slate-900 border border-white/10 w-full max-w-md rounded-[2.5rem] p-8 shadow-2xl"><h3 class="text-xl font-bold text-white mb-6 flex items-center gap-2"><i class="fa-solid fa-user-pen text-indigo-400"></i><span id="userEdit"></span></h3><form id="editUserForm" class="space-y-4"><input type="hidden" id="editUsername"><div><label class="block text-xs font-semibold text-gray-400 mb-2 px-1 uppercase">New password (Leave blank if not changed)</label><input type="password" id="editPassword" placeholder="" class="w-full bg-black/40 border border-white/10 rounded-2xl p-3 text-white focus:border-indigo-500 outline-none transition-all"></div><div class="grid grid-cols-2 gap-4"><div><label class="block text-xs font-semibold text-gray-400 mb-2 px-1 uppercase">Role</label><select id="editRole" class="w-full bg-black/40 border border-white/10 rounded-2xl p-3 text-white outline-none"><option value="user">User</option><option value="admin">Admin</option></select></div><div><label class="block text-xs font-semibold text-gray-400 mb-2 px-1 uppercase">Storage limit</label><select id="editMaxSpace" class="w-full bg-black/40 border border-white/10 rounded-2xl p-3 text-white outline-none"><option value="1073741824">1 GB</option><option value="5368709120">5 GB</option><option value="10737418240">10 GB</option><option value="53687091200">50 GB</option><option value="-1">Unlimited</option></select></div></div><div class="flex gap-3 mt-8"><button type="button" onclick="closeUserModalEdit()" class="flex-1 py-3 rounded-2xl font-bold text-gray-400 hover:bg-white/5 transition-all">Cancel</button><button type="submit" class="flex-1 py-3 bg-indigo-600 hover:bg-indigo-500 rounded-2xl font-bold text-white shadow-lg shadow-indigo-500/20 transition-all">Save</button></div></form></div></div><button onclick="toggleUserModal(!0)" class="fixed bottom-8 right-8 w-14 h-14 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full shadow-[0_0_20px_rgba(79,70,229,0.4)] flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-[100] group" title="Add a new account"><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 group-hover:rotate-90 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4"/></svg></button>
`;

const AdminUserScript = `
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            loadUsers();
        });

        async function loadUsers(){const _0x2b=['\x2f\x61\x70\x69\x2f\x75\x73\x65\x72\x73','\x75\x73\x65\x72\x4c\x69\x73\x74','\x61\x64\x6d\x69\x6e','\x62\x67\x2d\x72\x6f\x73\x65\x2d\x35\x30\x20\x74\x65\x78\x74\x2d\x72\x6f\x73\x65\x2d\x36\x30\x30','\x62\x67\x2d\x69\x6e\x64\x69\x67\x6f\x2d\x35\x30\x20\x74\x65\x78\x74\x2d\x69\x6e\x64\x69\x67\x6f\x2d\x36\x30\x30'];try{const r=await api(_0x2b[0]),u=await r.json(),l=document.getElementById(_0x2b[1]);l.innerHTML=u.map(v=>{const isA=v.role===_0x2b[2],cS=isA?_0x2b[3]:_0x2b[4],mx=v.max_space===-1?'\u221e':formatSize(v.max_space);return\`<tr class="border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50/50 dark:hover:bg-slate-800/50 transition-colors"><td class="p-3 text-sm text-slate-500 dark:text-slate-400 font-mono">\${v.username}</td><td class="p-3"><span class="px-2 py-1 \${cS} rounded text-[10px] font-bold uppercase tracking-wider">\${v.role}</span></td><td class="p-3 text-sm text-slate-500 dark:text-slate-400 font-mono">\${dateFormatString(v.created_at)}</td><td class="px-4 py-3 text-sm text-gray-400">\${formatSize(v.used_space)} / \${mx}</td><td class="p-3 text-right"><div class="flex justify-end gap-1"><button onclick="openUserModalEdit('\${v.username}','\${v.role}',\${v.max_space})" class="p-2 hover:bg-indigo-500/20 text-indigo-400 rounded-lg transition-colors"><i class="fa-solid fa-pen-to-square"></i></button><button onclick="deleteUser('\${v.username}')" class="p-2 text-slate-300 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all"><i class="fas fa-trash-alt"></i></button></div></td></tr>\`}).join('')}catch(e){console.error(e)}}
        
        async function saveUser(){const _0x3d=['\x6d\x75\x5f\x75\x73\x65\x72','\x6d\x75\x5f\x70\x61\x73\x73','\x6d\x75\x5f\x72\x6f\x6c\x65','\x6d\x61\x78\x5f\x73\x70\x61\x63\x65','\x65\x72\x72\x6f\x72','\x46\x69\x6c\x6c\x20\x69\x6e\x20\x61\x6c\x6c\x20\x69\x6e\x66\x6f\x72\x6d\x61\x74\x69\x6f\x6e','\x2f\x61\x70\x69\x2f\x75\x73\x65\x72\x73','\x50\x4f\x53\x54'];const u=document.getElementById(_0x3d[0]).value,p=document.getElementById(_0x3d[1]).value,r=document.getElementById(_0x3d[2]).value,m=document.getElementById(_0x3d[3]).value;if(!u||!p)return showAlert(_0x3d[4],_0x3d[5]);try{await api(_0x3d[6],{method:_0x3d[7],body:JSON.stringify({u,p,r,m})});toggleUserModal(false);loadUsers()}catch(e){console.error(e)}}
        
        async function deleteUser(_0x4e){const _0x1a=['\x41\x72\x65\x20\x79\x6f\x75\x20\x73\x75\x72\x65\x20\x79\x6f\x75\x20\x77\x61\x6e\x74\x20\x74\x6f\x20\x64\x65\x6c\x65\x74\x65\x20\x74\x68\x65\x20\x61\x63\x63\x6f\x75\x6e\x74\x20\x22','\x22\x3f','\x2f\x61\x70\x69\x2f\x75\x73\x65\x72\x73\x2f','\x44\x45\x4c\x45\x54\x45','\x55\x73\x65\x72\x20\x73\x75\x63\x63\x65\x73\x73\x66\x75\x6c\x6c\x79\x20\x64\x65\x6c\x65\x74\x65\x64\x2e','\x73\x75\x63\x63\x65\x73\x73','\x43\x61\x6e\x6e\x6f\x74\x20\x64\x65\x6c\x65\x74\x65\x20\x75\x73\x65\x72','\x65\x72\x72\x6f\x72','\x53\x65\x72\x76\x65\x72\x20\x63\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e\x20\x65\x72\x72\x6f\x72'];showConfirmModal(\`\${_0x1a[0]}\${_0x4e}\${_0x1a[1]}\`,async()=>{try{const r=await api(\`\${_0x1a[2]}\${_0x4e}\`,{method:_0x1a[3]});if(r.ok){showToast(_0x1a[4],_0x1a[5]);loadUsers()}else{const d=await r.json();showToast(d.error||_0x1a[6],_0x1a[7])}}catch(e){showToast(_0x1a[8],_0x1a[7])}})}

        function toggleUserModal(show) {
            document.getElementById('modalUser').style.display = show ? 'flex' : 'none';
        };

        function openUserModalEdit(username, role, maxSpace) {
            document.getElementById('userEdit').textContent = \`Edit user \${username}\`;
            document.getElementById('editUsername').value = username;
            document.getElementById('editRole').value = role;
            document.getElementById('editMaxSpace').value = maxSpace;
            document.getElementById('editPassword').value = ''; 
            document.getElementById('userModalEdit').classList.remove('hidden');
            document.getElementById('userModalEdit').classList.add('flex');
        }
        
        function closeUserModalEdit() {
            document.getElementById('userModalEdit').classList.add('hidden');
            document.getElementById('userModalEdit').classList.remove('flex');
        }
        
        document.getElementById('\x65\x64\x69\x74\x55\x73\x65\x72\x46\x6f\x72\x6d').onsubmit=async(_0x5a)=>{_0x5a.preventDefault();const _0x1f=['\x65\x64\x69\x74\x55\x73\x65\x72\x6e\x61\x6d\x65','\x65\x64\x69\x74\x50\x61\x73\x73\x77\x6f\x72\x64','\x65\x64\x69\x74\x52\x6f\x6c\x65','\x65\x64\x69\x74\x4d\x61\x78\x53\x70\x61\x63\x65','\x2f\x61\x70\x69\x2f\x75\x73\x65\x72\x73\x2f','\x50\x55\x54','\x73\x75\x63\x63\x65\x73\x73','\x55\x73\x65\x72\x20\x75\x70\x64\x61\x74\x65\x64\x21','\x65\x72\x72\x6f\x72'];const u=document.getElementById(_0x1f[0]).value,d={password:document.getElementById(_0x1f[1]).value,role:document.getElementById(_0x1f[2]).value,max_space:document.getElementById(_0x1f[3]).value};try{const r=await api(\`\${_0x1f[4]}\${u}\`,{method:_0x1f[5],body:JSON.stringify(d)});const s=await r.json();if(r.ok){showAlert(_0x1f[6],_0x1f[7]);closeUserModalEdit();loadUsers()}else{showAlert(_0x1f[8],s.error||'\x46\x61\x69\x6c\x65\x64')}}catch(e){showAlert(_0x1f[8],e.message)}};
    </script>
`;

const AdminServerContent = `
    <section id="page-admin" class="page-content space-y-6"><div class="flex justify-between items-center py-4"><h2 class="text-xl font-extrabold uppercase">Manage linked accounts</h2></div><div id="accountList" class="grid grid-cols-1 md:grid-cols-2 gap-4"></div></section><div id="modalAddServer" class="hidden fixed inset-0 bg-black/90 backdrop-blur-md z-[100] flex items-center justify-center p-6"><div class="bg-slate-900 border border-white/5 w-full max-w-md rounded-[2.5rem] p-10 shadow-2xl"><h3 class="text-xl font-extrabold mb-8 dark:text-slate-200 uppercase text-center">New Google Drive connection</h3><div class="space-y-3"><input id="m_name" placeholder="Suggestive names (e.g., Sub-Server 01)" class="w-full bg-slate-950 border border-white/5 p-4 rounded-xl text-xs outline-none focus:ring-1 focus:ring-indigo-500" autocomplete="off"> <input id="m_cid" placeholder="Client ID" class="w-full bg-slate-950 border border-white/5 p-4 rounded-xl text-xs outline-none" autocomplete="off"> <input id="m_csec" type="password" placeholder="Client Secret" class="w-full bg-slate-950 border border-white/5 p-4 rounded-xl text-xs outline-none" autocomplete="off"> <input id="m_ref" placeholder="Refresh Token" class="w-full bg-slate-950 border border-white/5 p-4 rounded-xl text-xs outline-none" autocomplete="off"> <input id="m_fid" placeholder="Folder ID (Leave blank if using Root)" class="w-full bg-slate-950 border border-white/5 p-4 rounded-xl text-xs outline-none" autocomplete="off"></div><div class="flex gap-3 mt-8"><button onclick="toggleServerModal(!1)" class="flex-1 bg-slate-800 py-4 rounded-xl text-[10px] font-black uppercase text-white hover:bg-slate-700 transition-all">Cancel</button><button id="btnSaveServer" onclick="saveServer()" class="flex-1 bg-indigo-600 py-4 rounded-xl text-[10px] font-black uppercase text-white shadow-lg shadow-indigo-600/20">Save</button></div></div></div><button onclick="toggleServerModal(!0)" class="fixed bottom-8 right-8 w-14 h-14 bg-indigo-600 hover:bg-indigo-500 text-white rounded-full shadow-[0_0_20px_rgba(79,70,229,0.4)] flex items-center justify-center transition-all duration-300 hover:scale-110 active:scale-95 z-[100] group" title="Add a new link"><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 group-hover:rotate-90 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M12 4v16m8-8H4"/></svg></button>
`;

const AdminServerScript = `
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            loadData();
        });

        async function confirmDeleteAccount(_0x2d,_0x5c){const _0x1b=['\x52\x65\x6d\x6f\x76\x65\x20\x74\x68\x65\x20\x22','\x22\x20\x6c\x69\x6e\x6b\x3f','\x63\x6c\x6f\x73\x65\x43\x6f\x6e\x66\x69\x72\x6d\x4d\x6f\x64\x61\x6c','\x69\x6e\x66\x6f','\x2f\x61\x70\x69\x2f\x73\x65\x72\x76\x65\x72\x73\x2f','\x44\x45\x4c\x45\x54\x45','\x73\x75\x63\x63\x65\x73\x73','\x65\x72\x72\x6f\x72'];showConfirmModal(\`\${_0x1b[0]}\${_0x5c}\${_0x1b[1]}\`,async()=>{if(typeof window[_0x1b[2]]==='\x66\x75\x6e\x63\x74\x69\x6f\x6e')window[_0x1b[2]]();const t=showToast(\`\u23f3 \x52\x65\x6d\x6f\x76\x69\x6e\x67\x20\${_0x5c}...\`,_0x1b[3],5000);try{const r=await api(\`\${_0x1b[4]}\${_0x2d}\`,{method:_0x1f[5]});if(r.ok){t.remove();showToast('\x44\x65\x6c\x65\x74\x65\x64\x20\x73\x75\x63\x63\x65\x73\x73\x66\x75\x6c\x6c\x79\x2e',_0x1b[6]);loadData()}else{showToast('\x45\x72\x72\x6f\x72',_0x1b[7])}}catch(e){showToast('\x43\x6f\x6e\x6e\x65\x63\x74\x69\x6f\x6e\x20\x65\x72\x72\x6f\x72',_0x1b[7])}})}

        function toggleServerModal(show) {
            const modal = document.getElementById('modalAddServer');
            if (show) {
                modal.classList.remove('hidden');
                modal.style.display = 'flex';
                document.getElementById('m_name').value = '',
                document.getElementById('m_cid').value = '',
                document.getElementById('m_csec').value = '',
                document.getElementById('m_ref').value = '',
                document.getElementById('m_fid').value = ''
            } else {
                modal.classList.add('hidden');
                modal.style.display = 'none';
            }
        }

        async function saveServer(){const _0x5f=['\x62\x74\x6e\x53\x61\x76\x65\x53\x65\x72\x76\x65\x72','\x6d\x5f\x6e\x61\x6d\x65','\x6d\x5f\x63\x69\x64','\x6d\x5f\x63\x73\x65\x63','\x6d\x5f\x72\x65\x66','\x6d\x5f\x66\x69\x64','\x72\x6f\x6f\x74','\x65\x72\x72\x6f\x72','\x50\x6c\x65\x61\x73\x65\x20\x66\x69\x6c\x6c\x20\x61\x6c\x6c\x21','\x53\x41\x56\x49\x4e\x47\x2e\x2e\x2e','\x2f\x61\x70\x69\x2f\x73\x65\x72\x76\x65\x72\x73','\x50\x4f\x53\x54','\x73\x75\x63\x63\x65\x73\x73','\x53\x41\x56\x45\x20\x43\x4f\x4e\x46\x49\x47\x55\x52\x41\x54\x49\x4f\x4e'];const b=document.getElementById(_0x5f[0]),d={name:document.getElementById(_0x5f[1]).value,client_id:document.getElementById(_0x5f[2]).value,client_secret:document.getElementById(_0x5f[3]).value,refresh_token:document.getElementById(_0x5f[4]).value,folder_id:document.getElementById(_0x5f[5]).value||_0x5f[6]};if(!d.name||!d.client_id||!d.client_secret||!d.refresh_token)return showAlert(_0x5f[7],_0x5f[8]);b.disabled=true;b.innerText=_0x5f[9];try{const r=await api(_0x5f[10],{method:_0x5f[11],body:JSON.stringify(d)});if(r.ok){showAlert(_0x5f[12],'\x44\x6f\x6e\x65\x21');toggleServerModal(false);loadData()}else{const e=await r.json();showAlert(_0x5f[7],e.error)}}catch(e){showAlert(_0x5f[7],'\x41\x50\x49\x20\x45\x72\x72\x6f\x72')}finally{b.disabled=false;b.innerText=_0x5f[13]}}
    </script>
`;

const FAQContent = `
  <div class="max-w-5xl mx-auto space-y-8 animate-fadeIn pb-20"><div class="text-center"><div class="inline-flex items-center justify-center w-16 h-16 rounded-3xl bg-indigo-500/10 text-indigo-400 mb-4"><i class="fas fa-users-gear text-2xl"></i></div><h2 class="text-3xl font-black text-white uppercase tracking-tighter">Instructions for obtaining parameters</h2><p class="text-slate-500 text-sm">For manual configuration of Client ID, Secret & Refresh Token</p></div><div class="grid grid-cols-1 gap-6"><div class="bg-[#0f172a]/60 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/5"><h3 class="text-xl font-bold text-white mb-6 flex items-center"><span class="w-8 h-8 rounded-lg bg-indigo-500 text-white flex items-center justify-center text-sm mr-3">1</span>Create Client ID & Secret</h3><div class="space-y-4 text-slate-400 text-sm leading-relaxed"><p>1. Access<a href="https://console.cloud.google.com/" target="_blank" class="text-indigo-400 underline">Google Cloud Console</a>and create a Project.</p><p>2. Enable the Google Drive API in the Library section.</p><p>3. In the<b>Credentials</b>section, create an<b>OAuth Client ID</b>of type "Web Application".</p><p>4. After creation, you will have<b class="text-white">Client ID</b>and<b class class="text-white">Client Secret</b>to fill in the form.</p></div></div><div class="bg-[#0f172a]/60 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/5 relative overflow-hidden"><div class="absolute top-0 right-0 p-6 opacity-10 text-6xl text-indigo-400"><i class="fas fa-key"></i></div><h3 class="text-xl font-bold text-white mb-6 flex items-center"><span class="w-8 h-8 rounded-lg bg-purple-500 text-white flex items-center justify-center text-sm mr-3">2</span>How to obtain Refresh Tokens manually</h3><div class="space-y-4 text-slate-400 text-sm leading-relaxed"><p>Since the system does not yet support automatic retrieval, please use<b>Google OAuth Playground</b>:</p><ol class="list-decimal ml-5 space-y-2"><li>Visit<a href="https://developers.google.com/oauthplayground" target="_blank" class="text-indigo-400 underline">OAuth Playground</a>.</li><li>Click on the gear icon (Settings), check the box "Use your own OAuth credentials", and then fill in the Client ID & Secret you created in Step 1.</li><li>In the left column, find<b>Google Drive API v3</b>, select Scope<code class="bg-black/40 px-1 text-pink-400">auth/drive.file</code>.</li><li>Click<b>Authorize APIs</b>and sign in with your Google account.</li><li>After being redirected, click<b>Exchange authorization code for tokens</b>.</li><li>You will see the string<b class="text-white">refresh_token</b>appear. Copy and paste it into the form.</li></ol></div></div></div></div>
`;
